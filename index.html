<!DOCTYPE html>
<html lang ="en">
    <head>
        <meta charset="utf-8">

        <!--Javascript files-->
        <script src="logic.js" charset="utf-8"></script>
        <script src="custom.js" charset="utf-8"></script>
        <script src="sound.js" charset="utf8"></script>

        <!--Favicon-->
        <link rel="apple-touch-icon" sizes="180x180" href="favicon_io/apple-touch-icon.png">
        <link rel="icon" type="image/png" sizes="32x32" href="favicon_io/favicon-32x32.png">
        <link rel="icon" type="image/png" sizes="16x16" href="favicon_io/favicon-16x16.png">

        <!--Font Awesome 6-->
        <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0-beta3/css/all.min.css">

        <!--Bootstrap CSS-->
        <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/css/bootstrap.min.css" rel="stylesheet">

        <!--Bootstrap Bundle-->
        <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/js/bootstrap.bundle.min.js"></script>

        <!--Jquery-->
        <script src="https://code.jquery.com/jquery-3.6.0.min.js"></script>

        <!--CSS files-->
        <link rel="stylesheet" href="style.css"></link>
        <link rel="stylesheet" href="puyoblobs.css"></link>

        <title>Elias' Puyo Puyo Project</title>
    </head>
    <body>
        
        <!--Navigation bar for the title of the page-->
        <nav class="navbar navbar-light">
            <div class="container-fluid">
                <a class="navbar-brand mx-auto" id="title">Elias' Puyo Puyo Project</a>
                </button>
                <div class="collapse navbar-collapse" id="navbarID">
                </div>
            </div>
        </nav>
        <div class="parent-container" style="overflow: hidden;">
            <!--Score Display-->
            <div id="scoreDisplay" style="float: left;">
                <h3>Score: <span id="score">0</span></h3>
            </div>

            <!--End Display that shows when the player loses-->
            <div id="endDisplay" style="float: left;">
                <h3 id="end"><span></span></h3>
            </div>

            <!--Speed Display that shows when the player loses-->
            <div id="speedDisplay" style="float: left;">
                <h3 id="speed"><span></span></h3>
            </div>
        </div>

        <!--Start/Pause button display-->
        <div id="startDisplay">
            <button id="start-button">Start</button>
        

            <!--Display for the up next puyos-->
            <h3 id="upNext"></h3>
        </div>

        <!--Contains all centered content-->
        <div class="container">
           
            <!-- Button to trigger modal -->
            <div>
                <button type="button" class="btn" data-bs-toggle="modal" data-bs-target="#exampleModal" id="custom">
                    Customization
                </button>
            </div>

            <!-- Modal -->
            <div class="modal fade" id="exampleModal" tabindex="-1" aria-labelledby="exampleModalLabel" aria-hidden="true">
                <div class="modal-dialog custom-modal-width">
                    <div class="modal-content">
                        <div class="modal-header" style="border: none;">
                            <h5 class="modal-title" id="exampleModalLabel"><i class="fa-solid fa-wand-magic-sparkles"></i> Customization</h5>
                            <div data-bs-theme="dark">
                                <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
                            </div>
                        </div>
                        <div class="modal-body">

                            <!--Difficulty Customization-->
                            <div class="difficultyPresets" style="margin-bottom: 20px; margin-right: 10px; justify-content: center;">
                                <a style="color: white; text-decoration: underline; text-shadow: 2px 2px 4px rgba(0, 0, 0, 0.7);"><h5>Difficulty</h5></a>
                                <div class="row" id="presetContainer">
                                    <div class="col" style="white-space: nowrap;">
                                        <button class="btn presetBtn col-3" id="easyBtn" data-width="1">Easy</button>
                                        <button class="btn presetBtn col-3 active" id="normalBtn" data-width="2">Normal</button>
                                        <button class="btn presetBtn col-3" data-width="3" id="hardBtn">Hard</button>
                                        <button class="btn presetBtn col-3" data-width="4" id="insaneBtn">Insane</button>
                                    </div>
                                </div>
                            </div>

                            <div class="row">

                            <!--Gameplay Customization-->
                            <div class="col-6" id="gameplay-custom">
                                <div>
                                    <h5 style="color: white; text-decoration: underline; text-shadow: 2px 2px 4px rgba(0, 0, 0, 0.7);">Gameplay</h5>
                                </div>

                                <!-- Fall Speed Customization -->
                                <div class="dropdown" style="color: white;">
                                    <a style="font-family: 'Font Awesome 6 Free'">Fall Speed</a>
                                    <input title="How long it takes for puyos to move down one grid space" 
                                    type="range" class="form-range" id="fallSpeedInput" min="100" max="3000" step="100" value="1000">
                                    <span id="fallSpeedValue" style="color: white">1 second per grid space (default)</span>
                                </div>
                
                                <!-- Puyos to Clear Customization -->
                                 <div class="nextDropdown" style="color: white;" >
                                    <a style="font-family: 'Font Awesome 6 Free'">Puyos to Pop</a>
                                    <input title="How many same colored puyos need to be connected to pop them"
                                    type="range" class="form-range" id="puyoPopInput" value="4" min="2" max="10" step="1">
                                    <span id="puyoPopValue" style="color: white;">4 puyos to pop (default)</span>
                                </div>

                                <!-- Amount of Colors Customization -->
                                <div class="nextDropdown" style="color: white;">
                                    <a style="font-family: 'Font Awesome 6 Free'">Amount of Colors</a>
                                    <input title="How many different colors will appear" 
                                    type="range" class="form-range" id="amtPuyoInput" value="4" min="1" max="7" step="1">
                                    <span id="amtPuyoValue" style="color: white">4 different colors (default)</span>
                                </div>
                
                                <!-- Controls Customization -->
                                <div class="nextDropdown" style="color: white; ">
                                    <a style="font-family: 'Font Awesome 6 Free'">Controls</a>
                                    <div class="row" style="margin-top: 5px; justify-content: center;" id="controlContainer">
                                        <button title="I think this is the default control scheme for Tetris games? Idk I grabbed this off of the tetris site" 
                                        class="btn col-5 active controlBtn" id="defaultControls">Default</button>
                                        <button title="My preferred control scheme" class="btn col-5 controlBtn" id="altControls">Flipped</button>
                                    </div>
                                </div>
                
                                <!-- Board Width Customization -->
                                <div class="nextDropdown" id="boardChange" style="color: white; border-bottom: 2px inset white;">
                                    <a style="font-family: 'Font Awesome 6 Free';">Board Width</a>
                                    <div id="boardWidthContainer" class="row" style="margin-top: 10px; margin-bottom: 5px;">
                                        <div class="row-6 col" style="justify-content: center;">
                                            <button title="Modifies how wide the grid is" class="btn widthButton" data-width="1">1</button>
                                            <button title="Modifies how wide the grid is" class="btn widthButton" data-width="2">2</button>
                                            <button title="Modifies how wide the grid is" class="btn widthButton" data-width="3">3</button>
                                            <button title="Modifies how wide the grid is" class="btn widthButton" data-width="4">4</button>
                                            <button title="Modifies how wide the grid is" class="btn widthButton" data-width="5">5</button>
                                        </div>
                                            <div class="row-6 col" style="justify-content: center;">
                                            <button title="Modifies how wide the grid is" class="btn widthButton active" data-width="6">6</button>
                                            <button title="Modifies how wide the grid is" class="btn widthButton" data-width="7">7</button>
                                            <button title="Modifies how wide the grid is" class="btn widthButton" data-width="8">8</button>
                                            <button title="Modifies how wide the grid is" class="btn widthButton" data-width="9">9</button>
                                            <button title="Modifies how wide the grid is" class="btn widthButton" data-width="10">10</button>
                                        </div>
                                    </div>
                                    <!-- <span id="gridSpaces">6 grid spaces (default)</span> -->
                                </div>
                            </div>

                            <!--Aesthetic customization-->
                            <div class="col-6" id="aesthetic-custom">
                                <div>
                                    <h5 style="color: white; text-decoration: underline; text-shadow: 2px 2px 4px rgba(0, 0, 0, 0.7);">Aesthetic</h5>
                                </div>

                                <!--Puyo Font Customization-->
                                <div class="dropdown" style="padding-bottom: 20px;">
                                    <a style="color: white; font-family: 'Font Awesome 6 Free'">Puyo Font</a>
                                    <div id="aestheticButtonContainer" class="row" style="margin: 3px; margin-top: 10px; justify-content: center;">
                                        <button title="Emojis from fontawesome" class="btn fontButton active" id="showFont">emojis (default)</button>
                                        <button title="Pictures of my college friends in 0.5x zoom" class="btn fontButton" id="showImage">Friend .5s</button>
                                    </div>
                                </div>
            
                                <!--Board Background Customization-->
                                <div class="nextDropdown" id="boardBackground">
                                    <a style="font-family: 'Font Awesome 6 Free'">Color Theme</a>
                                    <div class="row" style="justify-content: center; margin-top: 15px;">
                                        <div class="backGroundBtn row">
                                            <button 
                                                class="btn col-6 backgroundBtn active" 
                                                id="blueBackground" 
                                                style="white-space: nowrap; text-align: left">Blue (Default)
                                            </button>
                                            <button class="btn col-6 backgroundBtn" id="redBackground" href="#">Red</button>
                                        </div>
                                        <div class="backGroundBtn row">
                                            <button class="btn col-6 backgroundBtn" id="greenBackground" href="#">Green</button>
                                            <button class="btn col-6 backgroundBtn" id="purpleBackground" href="#">Purple</button>
                                        </div>
                                    </div>
                                </div>

                                <div class="nextDropdown" id="voiceLines">
                                    <a style="font-family: 'Font Awesome 6 Free'">Voice Lines</a>
                                    <div class="row" style="justify-content: center; margin-top: 15px;">
                                        <div class="voiceButtons row">
                                            <button 
                                                class="btn col-6 voiceBtn active" 
                                                id="joshVoice" 
                                                style="text-align: center">Xcita (Default)
                                            </button>
                                            <button class="btn col-6 voiceBtn" id="britMicah" href="#">British Micah</button>
                                        </div>
                                    </div>
                                </div>

                                <div class="form-check" style="color: white; margin-top: 15px; margin-left: 10px;">
                                    <input title="Toggles whether the game will speed up after a certain amount of time" 
                                    class="form-check-input" type="checkbox" value="" id="speedUpToggle" checked>
                                    <label title="Toggles whether the game will speed up after a certain amount of time" 
                                    class="form-check-label" for="speedUpToggle">
                                        Speed up
                                    </label>
                                </div>
                                </div>
                            </div>
                        </div>
                        <div class="modal-footer">
                            <button type="button" class="btn btn-secondary" data-bs-dismiss="modal">Close</button>
                        </div>
                    </div>
                </div>
            </div>        

            <!--Chain display becomes visible once at least 1 group of puyos are cleared-->
            <div id="chainDisplay">
                <h3 id="chainLength"></h3>
            </div>

            <!--Displays "Game Over" when game over state is reached-->
            <div id="gameOverText">
                <h3></h3>
            </div>

            <div class="grid">
                <div class="aboveGrid"></div>
                <div class="aboveGrid"></div>
                <div class="aboveGrid"></div>
                <div class="aboveGrid"></div>
                <div class="aboveGrid"></div>
                <div class="aboveGrid"></div>
                <div id="gridDiv"></div>
                <div id="gridDiv"></div>
                <div id="gridDiv"></div>
                <div id="gridDiv"></div>
                <div id="gridDiv"></div>
                <div id="gridDiv"></div>
                <div id="gridDiv"></div>
                <div id="gridDiv"></div>
                <div id="gridDiv"></div>
                <div id="gridDiv"></div>
                <div id="gridDiv"></div>
                <div id="gridDiv"></div>
                <div id="gridDiv"></div>
                <div id="gridDiv"></div>
                <div id="gridDiv"></div>
                <div id="gridDiv"></div>
                <div id="gridDiv"></div>
                <div id="gridDiv"></div>
                <div id="gridDiv"></div>
                <div id="gridDiv"></div>
                <div id="gridDiv"></div>
                <div id="gridDiv"></div>
                <div id="gridDiv"></div>
                <div id="gridDiv"></div>
                <div id="gridDiv"></div>
                <div id="gridDiv"></div>
                <div id="gridDiv"></div>
                <div id="gridDiv"></div>
                <div id="gridDiv"></div>
                <div id="gridDiv"></div>
                <div id="gridDiv"></div>
                <div id="gridDiv"></div>
                <div id="gridDiv"></div>
                <div id="gridDiv"></div>
                <div id="gridDiv"></div>
                <div id="gridDiv"></div>
                <div id="gridDiv"></div>
                <div id="gridDiv"></div>
                <div id="gridDiv"></div>
                <div id="gridDiv"></div>
                <div id="gridDiv"></div>
                <div id="gridDiv"></div>
                <div id="gridDiv"></div>
                <div id="gridDiv"></div>
                <div id="gridDiv"></div>
                <div id="gridDiv"></div>
                <div id="gridDiv"></div>
                <div id="gridDiv"></div>
                <div id="gridDiv"></div>
                <div id="gridDiv"></div>
                <div id="gridDiv"></div>
                <div id="gridDiv"></div>
                <div id="gridDiv"></div>
                <div id="gridDiv"></div>
                <div id="gridDiv"></div>
                <div id="gridDiv"></div>
                <div id="gridDiv"></div>
                <div id="gridDiv"></div>
                <div id="gridDiv"></div>
                <div id="gridDiv"></div>
                <div id="gridDiv"></div>
                <div id="gridDiv"></div>
                <div id="gridDiv"></div>
                <div id="gridDiv"></div>
                <div id="gridDiv"></div>
                <div id="gridDiv"></div>
                <div id="gridDiv"></div>
                <div id="gridDiv"></div>
                <div id="gridDiv"></div>
                <div id="gridDiv"></div>
                <div id="gridDiv"></div>
                <div id="gridDiv"></div>
                <div class="taken belowGrid"></div>
                <div class="taken belowGrid"></div>
                <div class="taken belowGrid"></div>
                <div class="taken belowGrid"></div>
                <div class="taken belowGrid"></div>
                <div class="taken belowGrid"></div>
            </div>

            <div class="mini-grid">
                <div></div>
                <div></div>
            </div>

            <div class="next-mini-grid">
                <div></div>
                <div></div>
            </div>

            <!--Controls Display-->
            <div id="controlDisplay">
                <div>
                    <h3 style="text-decoration: underline;">Movement:</h3>
                </div>
                <div style="margin-top: 10px;">
                    <h5 id="left">Left: Left-arrow</h5>
                    <h5 id="right">Right: Right-arrow</h5>
                    <h5 id="down">Down: Down-arrow, S</h5>
                </div>
                <div style="margin-top: 20px; text-decoration: underline;">
                    <h3>Rotation:</h3>
                </div>
                    <div style="margin-top: 20px;">
                        <h5 id="clockwise">Clockwise: Up-arrow, D</h5>
                    <h5 id="counterclockwise">Counterclockwise: Z, A</h5>
                </div>
                <div style="margin-top: 20px;">
                    <h5 id="pause">Pause/Play: Escape</h5>
                    <h5 id="hardDrop">Hard drop: Space</h5>
                </div>
            </div>
        </div>
    </body>
</html>